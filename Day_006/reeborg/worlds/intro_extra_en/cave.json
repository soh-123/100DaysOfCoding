{
  "robots": [
    {
      "x": 1,
      "y": 1,
      "_prev_x": 1,
      "_prev_y": 1,
      "_prev_orientation": 0,
      "objects": {
        "crate": 99
      },
      "_orientation": 0,
      "_is_leaky": true,
      "_trace_history": [],
      "_trace_style": "default",
      "_trace_color": "seagreen",
      "__id": 3,
      "model": "classic"
    }
  ],
  "walls": {},
  "description": [
    "<h1>Stacking crates in a cave</h1>",
    "<p>Reeborg wants to stack crates in a cave. ",
    "There are stalactites on the roof of the cave of ",
    "differing length, so Reeborg wants to make his ",
    "towers as tall as he can without bumping into them. ",
    "Once done, Reeborg could stand on a stack and examine the stalactites above.",
    "</p><p>Write a program that creates a crates stack",
    "at Reeborgâ€™s starting position, ",
    "and every other x-position after that (odd x-values) until Reeborg reaches a wall. ",
    "The height of each crates stack should allow for ",
    "one empty square beneath the stalactites.</p>",
    "",
    "<h3>What you need to know</h3>",
    "<ul><li>The functions <code>move()</code>, ",
    "    <code>turn_left()</code> and <code>put()</code>.</li>",
    "    <li>The test <code>front_is_clear()</code></li>",
    "    <li>How to use a <code>while</code> loop and",
    "        an <code>if</code> statement.</li></ul>",
    "DIFFICULTY5",
    "<p>Background image: <a href='https://www.pexels.com/photo/nature-france-rocks-caves-2633/'>www.pexels.com</a></p>"
  ],
  "small_tiles": false,
  "rows": 10,
  "cols": 15,
  "onload": [
    "var width, height, obstacles, i, h, r, x, y;",
    "",
    "height = 10;",
    "width = RUR.randint(6, 15);",
    "",
    "// new objects",
    "RUR.add_new_thing({",
    "    'name': 'ground',",
    "    'info': 'Hard rock, impassable',",
    "    'fatal': true,",
    "    'message': 'This is as hard as a rock.',",
    "    'url': 'src/images/mud.png'",
    "});",
    "",
    "RUR.add_new_thing({",
    "    'name': 'stalactite1',",
    "    'info': 'Stalactite; pointy and hard',",
    "    'fatal': true,",
    "    'detectable': true,",
    "    'message': 'Ouch! My head hurts!',",
    "    'url': 'src/images/stalactite.png'",
    "});",
    "",
    "RUR.add_new_thing({",
    "    'name': 'stalactite2',",
    "    'info': 'Stalactite; pointy and hard',",
    "    'fatal': true,",
    "    'detectable': true,",
    "    'message': 'Ouch! My head hurts!',",
    "    'url': 'src/images/stalactite2.png'",
    "});",
    "",
    "RUR.add_new_thing({",
    "    'name': 'crate',",
    "    'url': 'src/images/box.png',",
    "    'goal': {'url': 'src/images/box_goal.png'}",
    "});",
    "",
    "RUR.give_object_to_robot(\"crate\", 99);",
    "",
    "for (x=1; x<= width; x++) {",
    "    h = RUR.randint(8, height);",
    "    i = RUR.randint(1, 2);",
    "    RUR.add_obstacle('stalactite'+i, x, h);",
    "    for (y=h+1; y<=height; y++) {",
    "        RUR.add_background_tile('ground', x, y);",
    "    }",
    "    if (x %2 == 1) { // odd value",
    "        for (y=1; y < h-1; y++) {",
    "            RUR.add_object(\"crate\", x, y, {'goal':true});",
    "        }",
    "    }",
    "}",
    "RUR.add_wall('east', width, 1);",
    "// Change the robot model, since grey would not be very visible",
    "RUR.set_model('light blue');",
    ""
  ],
  "background_image": "worlds/images/nature-france-rocks-caves-2633.png"
}
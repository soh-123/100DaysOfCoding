{
  "robots": [
    {
      "x": 1,
      "y": 1,
      "_prev_x": 1,
      "_prev_y": 1,
      "_prev_orientation": 0,
      "objects": {
        "caisse": 99
      },
      "_orientation": 0,
      "_is_leaky": true,
      "_trace_history": [],
      "_trace_style": "default",
      "_trace_color": "seagreen",
      "__id": 3,
      "model": "classic"
    }
  ],
  "walls": {},
  "description": [
    "<h1>Empiler des caisses</h1>",
    "<p>Reeborg veut empiler des caisses dans une caverne. ",
    "Il y a des stalactites de différente longueur au plafond ",
    "de la caverne et Reeborg doit faire des piles ",
    "qui rejoignent presque le plafond, laissant une case de vide.",
    "</p><p>Écrivez un programme qui permettra à Reeborg de faire ces piles.",
    "Une fois le travail complété, Reeborg pourra se tenir sur une de ces piles et examiner de près les stalactites.",
    "La première pile sera faite à la position où se trouve Reeborg, ",
    "et il y aura une colonne de vide entre chaque pile; le tout se terminera lorsque Reeborg rencontrera un mur.</p>",
    "",
    "<h2>Ce que vous devez connaître</h2>",
    "<ul><li>Les fonctions <code>avance()</code>, ",
    "    <code>tourne_a_gauche()</code> et <code>depose()</code>.</li>",
    "    <li>La condition <code>rien_devant()</code></li>",
    "    <li>Comment utiliser une boucle <code>while</code>",
    "        et un énoncé <code>if</code>.</li></ul>",
    "DIFFICULTY5",
    "<p>Image de fond: <a href='https://www.pexels.com/photo/nature-france-rocks-caves-2633/'>www.pexels.com</a></p>"
  ],
  "small_tiles": false,
  "rows": 10,
  "cols": 15,
  "onload": [
    "var width, height, obstacles, i, h, r, x, y;",
    "",
    "height = 10;",
    "width = RUR.randint(6, 15);",
    "",    "",
    "// new objects",
    "RUR.add_new_thing({",
    "    'name': 'ground',",
    "    'info': 'Dur comme de la roche.',",
    "    'fatal': true,",
    "    'message': 'Dur comme de la roche.',",
    "    'url': 'src/images/mud.png'",
    "});",
    "",
    "RUR.add_new_thing({",
    "    'name': 'stalactite1',",
    "    'info': 'Stalactite; pointue et dure.',",
    "    'fatal': true,",
    "    'detectable': true,",
    "    'message': 'Je me suis cogné la tête !',",
    "    'url': 'src/images/stalactite.png'",
    "});",
    "",
    "RUR.add_new_thing({",
    "    'name': 'stalactite2',",
    "    'info': 'Stalactite; pointue et dure.',",
    "    'fatal': true,",
    "    'detectable': true,",
    "    'message': 'Je me suis cogné la tête !',",
    "    'url': 'src/images/stalactite2.png'",
    "});",
    "",
    "RUR.add_new_thing({",
    "    'name': 'caisse',",
    "    'url': 'src/images/box.png',",
    "    'goal': {'url': 'src/images/box_goal.png'}",
    "});",
    "",
    "RUR.give_object_to_robot(\"caisse\", 99);",
    "",
    "for (x=1; x<= width; x++) {",
    "    h = RUR.randint(8, height);",
    "    i = RUR.randint(1, 2);",
    "    RUR.add_obstacle('stalactite'+i, x, h);",
    "    for (y=h+1; y<=height; y++) {",
    "        RUR.add_background_tile('ground', x, y);",
    "    }",
    "    if (x %2 == 1) { // odd value",
    "        for (y=1; y < h-1; y++) {",
    "            RUR.add_object(\"caisse\", x, y, {'goal':true});",
    "        }",
    "    }",
    "}",
    "RUR.add_wall('east', width, 1);",
    "// Change the robot model, since grey would not be very visible",
    "RUR.set_model('light blue');",
    ""
  ],
  "background_image": "worlds/images/nature-france-rocks-caves-2633.png"
}